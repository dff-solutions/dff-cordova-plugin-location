<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns:android="http://schemas.android.com/apk/res/android" name="LocationPlugin"
        id="dff-cordova-plugin-location" spec="10.0.0-alpha.3" version="10.0.0-alpha.3"
        xmlns="http://www.phonegap.com/ns/plugins/1.0">

    <name>Location Plugin</name>
    <description>Location Plugin</description>
    <keywords>cordova,device,location,GPS,distance</keywords>
    <author>dff-solutions/AnthonyNahas</author>

    <js-module name="LocationPlugin" src="www/LocationPlugin.js">
        <clobbers target="LocationPlugin"/>
    </js-module>

    <dependency id="dff-cordova-plugin-common"
                url="https://github.com/dff-solutions/dff.CordovaPlugin.Common.git"/>
    <dependency id="dff-cordova-plugin-dagger2"
                url="https://github.com/dff-solutions/dff.CordovaPlugin.Dagger2.git"/>

    <!-- Android  -->
    <platform name="android">
        <config-file parent="/*" target="res/xml/config.xml">
            <feature name="LocationPlugin">
                <param name="android-package"
                       value="com.dff.cordova.plugin.location.LocationPlugin"/>
                <param name="onload" value="true"/>
            </feature>
        </config-file>

        <config-file parent="/manifest/application" target="AndroidManifest.xml">
            <service android:name="com.dff.cordova.plugin.location.services.LocationService"
                     android:label="LocationService"/><!--android:process=":backendP"-->
            <service
                android:name="com.dff.cordova.plugin.location.services.PendingLocationsIntentService"
                android:label="PendingLocationsIntentService"/> <!--android:process=":backendP"-->
        </config-file>

        <config-file parent="/manifest" target="AndroidManifest.xml">
            <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
            <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
            <!-- <uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION"/> -->
            <!-- Needed only if app targets Android 5.0 (API level 21) or higher.
             Build will failed if app targets Android API LEVEL <= 19-->
            <uses-feature android:name="android.hardware.location.gps"/>
        </config-file>

        <source-file src="src/main/java/com/dff/cordova/plugin/ping/actions/ChangeParamsAction.java"
                     target-dir="src/com/dff/cordova/plugin/ping/actions"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/actions/index/IndexActions.java"
                     target-dir="src/com/dff/cordova/plugin/ping/actions/index"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/actions/StartPingServiceAction.java"
                     target-dir="src/com/dff/cordova/plugin/ping/actions"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/actions/StopPingServiceAction.java"
                     target-dir="src/com/dff/cordova/plugin/ping/actions"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/classes/Executor.java"
                     target-dir="src/com/dff/cordova/plugin/ping/classes"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/classes/PingShuttle.java"
                     target-dir="src/com/dff/cordova/plugin/ping/classes"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/configurations/ActionsManager.java"
                     target-dir="src/com/dff/cordova/plugin/ping/configurations"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/configurations/Config.java"
                     target-dir="src/com/dff/cordova/plugin/ping/configurations"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/configurations/JSActions.java"
                     target-dir="src/com/dff/cordova/plugin/ping/configurations"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/dagger/components/PingPluginComponent.java"
                     target-dir="src/com/dff/cordova/plugin/ping/dagger/components"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/dagger/components/PingServiceComponent.java"
                     target-dir="src/com/dff/cordova/plugin/ping/dagger/components"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/dagger/DaggerManager.java"
                     target-dir="src/com/dff/cordova/plugin/ping/dagger"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/dagger/modules/AppModule.java"
                     target-dir="src/com/dff/cordova/plugin/ping/dagger/modules"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/dagger/modules/ServiceModule.java"
                     target-dir="src/com/dff/cordova/plugin/ping/dagger/modules"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/events/OnResServedEvent.java"
                     target-dir="src/com/dff/cordova/plugin/ping/events"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/interfaces/IGetPingShuttle.java"
                     target-dir="src/com/dff/cordova/plugin/ping/interfaces"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/interfaces/IPingShuttle.java"
                     target-dir="src/com/dff/cordova/plugin/ping/interfaces"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/PingPlugin.java"
                     target-dir="src/com/dff/cordova/plugin/ping"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/services/PingService.java"
                     target-dir="src/com/dff/cordova/plugin/ping/services"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/utilities/helpers/CrashHelper.java"
                     target-dir="src/com/dff/cordova/plugin/ping/utilities/helpers"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/utilities/helpers/FileHelper.java"
                     target-dir="src/com/dff/cordova/plugin/ping/utilities/helpers"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/utilities/helpers/PreferencesHelper.java"
                     target-dir="src/com/dff/cordova/plugin/ping/utilities/helpers"/>
        <source-file src="src/main/java/com/dff/cordova/plugin/ping/utilities/loopers/PingLooper.java"
                     target-dir="src/com/dff/cordova/plugin/ping/utilities/loopers"/>


        <!-- @Asset -->
        <!--<source-file src="mock/positions.json" target-dir="assets/"/>-->

        <!-- @Gradle -->
        <source-file src="build-extras.gradle" target-dir="src/.."/>
        <framework custom="true" src="build-location-plugin.gradle" type="gradleReference"/>
        <hook type="before_plugin_install" src="scripts/patch.js"/>
    </platform>
</plugin>